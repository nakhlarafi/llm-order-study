{
    "bug_id": 6,
    "test_id": 19,
    "test_name": "org.apache.commons.math3.optim.nonlinear.scalar.gradient.NonLinearConjugateGradientOptimizerTest.testTrivial",
    "test_body": "public void testTrivial() {\nLinearProblem problem\n= new LinearProblem(new double[][] { { 2 } }, new double[] { 3 });\nNonLinearConjugateGradientOptimizer optimizer\n= new NonLinearConjugateGradientOptimizer(NonLinearConjugateGradientOptimizer.Formula.POLAK_RIBIERE,\nnew SimpleValueChecker(1e-6, 1e-6));\nPointValuePair optimum\n= optimizer.optimize(new MaxEval(100),\nproblem.getObjectiveFunction(),\nproblem.getObjectiveFunctionGradient(),\nGoalType.MINIMIZE,\nnew InitialGuess(new double[] { 0 }));\nAssert.assertEquals(1.5, optimum.getPoint()[0], 1.0e-10);\nAssert.assertEquals(0.0, optimum.getValue(), 1.0e-10);\n140: // Check that the number of iterations is updated (MATH-949).\nAssert.assertTrue(optimizer.getIterations() > 0);\n}\n",
    "stack_trace": "junit.framework.AssertionFailedError\nat org.junit.Assert.fail(Assert.java:86)\nat org.junit.Assert.assertTrue(Assert.java:41)\nat org.junit.Assert.assertTrue(Assert.java:52)\nat org.apache.commons.math3.optim.nonlinear.scalar.gradient.NonLinearConjugateGradientOptimizerTest.testTrivial(NonLinearConjugateGradientOptimizerTest.java:141)",
    "covered_methods": [
        {
            "method_signature": "org.apache.commons.math3.util.Incrementor:<init>(ILorg/apache/commons/math3/util/Incrementor$MaxCountExceededCallback;)V",
            "method_body": "public Incrementor(int max, MaxCountExceededCallback cb)\nthrows NullArgumentException {\nif (cb == null){\nmaximalCount = max;\nmaxCountCallback = cb;\n}",
            "method_id": 20
        },
        {
            "method_signature": "org.apache.commons.math3.util.Pair:getValue()Ljava/lang/Object;",
            "method_body": "public V getValue() {\nreturn value;\n}",
            "method_id": 21
        },
        {
            "method_signature": "org.apache.commons.math3.optim.AbstractConvergenceChecker:getAbsoluteThreshold()D",
            "method_body": "public double getAbsoluteThreshold() {\nreturn absoluteThreshold;\n}",
            "method_id": 22
        },
        {
            "method_signature": "org.apache.commons.math3.optim.nonlinear.scalar.gradient.NonLinearConjugateGradientOptimizer$IdentityPreconditioner:precondition([D[D)[D",
            "method_body": "public double[] precondition(double[] variables, double[] r) {\nreturn r.clone();\n}",
            "method_id": 23
        },
        {
            "method_signature": "org.apache.commons.math3.optim.nonlinear.scalar.gradient.NonLinearConjugateGradientOptimizer:<init>(Lorg/apache/commons/math3/optim/nonlinear/scalar/gradient/NonLinearConjugateGradientOptimizer$Formula;Lorg/apache/commons/math3/optim/ConvergenceChecker;)V",
            "method_body": "public NonLinearConjugateGradientOptimizer(final Formula updateFormula,\nthis(updateFormula,\n}",
            "method_id": 24
        },
        {
            "method_signature": "org.apache.commons.math3.analysis.solvers.BrentSolver:brent(DDDD)D",
            "method_body": "private double brent(double lo, double hi,\ndouble a = lo;\ndouble fa = fLo;\ndouble b = hi;\ndouble fb = fHi;\ndouble c = a;\ndouble fc = fa;\ndouble d = b - a;\ndouble e = d;\nfinal double t = getAbsoluteAccuracy();\nfinal double eps = getRelativeAccuracy();\nif (FastMath.abs(fc) < FastMath.abs(fb)) {\na = b;\nb = c;\nc = a;\nfa = fb;\nfb = fc;\nfc = fa;\nfinal double tol = 2 * eps * FastMath.abs(b) + t;\nfinal double m = 0.5 * (c - b);\nif (FastMath.abs(m) <= tol ||\nreturn b;\nif (FastMath.abs(e) < tol ||\ndouble s = fb / fa;\nif (a == c) {\np = 2 * m * s;\nq = 1 - s;\nif (p > 0) {\nq = -q;\np = -p;\ns = e;\ne = d;\nif (p >= 1.5 * m * q - FastMath.abs(tol * q) ||\nd = p / q;\na = b;\nfa = fb;\nif (FastMath.abs(d) > tol) {\nb += d;\n} else if (m > 0) {\nb -= tol;\nfb = computeObjectiveValue(b);\nif ((fb > 0 && fc > 0) ||\nc = a;\nfc = fa;\nd = b - a;\ne = d;\n}\n}",
            "method_id": 25
        },
        {
            "method_signature": "org.apache.commons.math3.analysis.solvers.AbstractUnivariateSolver:<init>(D)V",
            "method_body": "protected AbstractUnivariateSolver(final double absoluteAccuracy) {\nsuper(absoluteAccuracy);\n}",
            "method_id": 26
        },
        {
            "method_signature": "org.apache.commons.math3.optim.nonlinear.scalar.MultivariateOptimizer:<init>(Lorg/apache/commons/math3/optim/ConvergenceChecker;)V",
            "method_body": "protected MultivariateOptimizer(ConvergenceChecker<PointValuePair> checker) {\nsuper(checker);\n}",
            "method_id": 27
        },
        {
            "method_signature": "org.apache.commons.math3.optim.PointValuePair:<init>([DD)V",
            "method_body": "public PointValuePair(final double[] point,\nthis(point, value, true);\n}",
            "method_id": 28
        },
        {
            "method_signature": "org.apache.commons.math3.analysis.solvers.BaseAbstractUnivariateSolver:incrementEvaluationCount()V",
            "method_body": "protected void incrementEvaluationCount()\nevaluations.incrementCount();\n}\n}",
            "method_id": 29
        }
    ]
}