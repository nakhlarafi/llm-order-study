{
    "bug_id": 15,
    "test_id": 0,
    "test_name": "org.jsoup.parser.ParserTest.handlesDataOnlyTags",
    "test_body": "@Test public void handlesDataOnlyTags() {\nString t = \"<style>font-family: bold</style>\";\nList<Element> tels = Jsoup.parse(t).getElementsByTag(\"style\");\nassertEquals(\"font-family: bold\", tels.get(0).data());\nassertEquals(\"\", tels.get(0).text());\n161: String s = \"<p>Hello</p><script>obj.insert('<a rel=\\\"none\\\" />');\\ni++;</script><p>There</p>\";\nDocument doc = Jsoup.parse(s);\nassertEquals(\"Hello There\", doc.text());\nassertEquals(\"obj.insert('<a rel=\\\"none\\\" />');\\ni++;\", doc.data());",
    "stack_trace": "junit.framework.AssertionFailedError: expected:<Hello []There> but was:<Hello ['); i++; ]There>\nat org.junit.Assert.assertEquals(Assert.java:115)\nat org.junit.Assert.assertEquals(Assert.java:144)\nat org.jsoup.parser.ParserTest.handlesDataOnlyTags(ParserTest.java:163)",
    "covered_methods": [
        {
            "method_signature": "org.jsoup.nodes.Element:data()Ljava/lang/String;",
            "method_body": "public String data() {\nStringBuilder sb = new StringBuilder();\nfor (Node childNode : childNodes) {\nif (childNode instanceof DataNode) {\nDataNode data = (DataNode) childNode;\nsb.append(data.getWholeData());\n} else if (childNode instanceof Element) {\n}\nreturn sb.toString();\n}",
            "method_id": 0
        },
        {
            "method_signature": "org.jsoup.nodes.DataNode:getWholeData()Ljava/lang/String;",
            "method_body": "public String getWholeData() {\nreturn attributes.get(DATA_KEY);\n}",
            "method_id": 1
        },
        {
            "method_signature": "org.jsoup.parser.TreeBuilderState:handleRawtext(Lorg/jsoup/parser/Token$StartTag;Lorg/jsoup/parser/TreeBuilder;)V",
            "method_body": "private static void handleRawtext(Token.StartTag startTag, TreeBuilder tb) {\ntb.insert(startTag);\ntb.tokeniser.transition(TokeniserState.Rawtext);\ntb.markInsertionMode();\ntb.transition(Text);\n}",
            "method_id": 2
        },
        {
            "method_signature": "org.jsoup.parser.TokeniserState$5:read(Lorg/jsoup/parser/Tokeniser;Lorg/jsoup/parser/CharacterReader;)V",
            "method_body": "void read(Tokeniser t, CharacterReader r) {\nswitch (r.current()) {\nt.advanceTransition(RawtextLessthanSign);\nbreak;\nString data = r.consumeToAny('<', nullChar);\nt.emit(data);\n}",
            "method_id": 3
        },
        {
            "method_signature": "org.jsoup.parser.TokeniserState$14:read(Lorg/jsoup/parser/Tokeniser;Lorg/jsoup/parser/CharacterReader;)V",
            "method_body": "void read(Tokeniser t, CharacterReader r) {\nif (r.matches('/')) {\nt.createTempBuffer();\nt.advanceTransition(RawtextEndTagOpen);\n}",
            "method_id": 4
        },
        {
            "method_signature": "org.jsoup.parser.TokeniserState$15:read(Lorg/jsoup/parser/Tokeniser;Lorg/jsoup/parser/CharacterReader;)V",
            "method_body": "void read(Tokeniser t, CharacterReader r) {\nif (r.matchesLetter()) {\nt.createTagPending(false);\nt.transition(RawtextEndTagName);\n}",
            "method_id": 5
        },
        {
            "method_signature": "org.jsoup.parser.TokeniserState$16:read(Lorg/jsoup/parser/Tokeniser;Lorg/jsoup/parser/CharacterReader;)V",
            "method_body": "void read(Tokeniser t, CharacterReader r) {\nif (r.matchesLetter()) {\nString name = r.consumeLetterSequence();\nt.tagPending.appendTagName(name.toLowerCase());\nt.dataBuffer.append(name);\nreturn;\nchar c = r.consume();\nboolean handled = true;\nswitch (c) {\nif (t.isAppropriateEndTagToken()) {\nt.emitTagPending();\nt.transition(Data);\nif (!handled) {\n}",
            "method_id": 6
        },
        {
            "method_signature": "org.jsoup.nodes.DataNode:<init>(Ljava/lang/String;Ljava/lang/String;)V",
            "method_body": "public DataNode(String data, String baseUri) {\nsuper(baseUri);\nattributes.put(DATA_KEY, data);\n}",
            "method_id": 7
        },
        {
            "method_signature": "org.jsoup.parser.Tag:isKnownTag(Ljava/lang/String;)Z",
            "method_body": "public static boolean isKnownTag(String tagName) {\nreturn tags.containsKey(tagName);\n}",
            "method_id": 8
        },
        {
            "method_signature": "org.jsoup.nodes.Element:isBlock()Z",
            "method_body": "public boolean isBlock() {\nreturn tag.isBlock();\n}",
            "method_id": 9
        },
        {
            "method_signature": "org.jsoup.parser.Tokeniser:error(Ljava/lang/String;)V",
            "method_body": "private void error(String errorMsg) {\nif (trackErrors)\nerrors.add(new ParseError(errorMsg, reader.pos()));\n}",
            "method_id": 10
        },
        {
            "method_signature": "org.jsoup.nodes.TextNode:stripLeadingWhitespace(Ljava/lang/String;)Ljava/lang/String;",
            "method_body": "static String stripLeadingWhitespace(String text) {\nreturn text.replaceFirst(\"^\\\\s+\", \"\");\n}",
            "method_id": 11
        },
        {
            "method_signature": "org.jsoup.parser.ParseError:<init>(Ljava/lang/String;I)V",
            "method_body": "ParseError(String errorMsg, int pos) {\nthis.errorMsg = errorMsg;\nthis.pos = pos;\n}",
            "method_id": 12
        },
        {
            "method_signature": "org.jsoup.parser.Tag:isBlock()Z",
            "method_body": "public boolean isBlock() {\nreturn isBlock;\n}",
            "method_id": 13
        },
        {
            "method_signature": "org.jsoup.nodes.Element:getElementsByTag(Ljava/lang/String;)Lorg/jsoup/select/Elements;",
            "method_body": "public Elements getElementsByTag(String tagName) {\nValidate.notEmpty(tagName);\ntagName = tagName.toLowerCase().trim();\nreturn Collector.collect(new Evaluator.Tag(tagName), this);\n}",
            "method_id": 14
        },
        {
            "method_signature": "org.jsoup.parser.TokeniserState$42:read(Lorg/jsoup/parser/Tokeniser;Lorg/jsoup/parser/CharacterReader;)V",
            "method_body": "void read(Tokeniser t, CharacterReader r) {\nchar c = r.consume();\nswitch (c) {\nt.tagPending.selfClosing = true;\nt.emitTagPending();\nt.transition(Data);\nbreak;\n}",
            "method_id": 15
        },
        {
            "method_signature": "org.jsoup.nodes.Attributes:addAll(Lorg/jsoup/nodes/Attributes;)V",
            "method_body": "public void addAll(Attributes incoming) {\nif (incoming.size() == 0)\nif (attributes == null)\nattributes = new LinkedHashMap<String, Attribute>(incoming.size());\nattributes.putAll(incoming.attributes);\n}",
            "method_id": 16
        },
        {
            "method_signature": "org.jsoup.parser.TokeniserState$38:read(Lorg/jsoup/parser/Tokeniser;Lorg/jsoup/parser/CharacterReader;)V",
            "method_body": "void read(Tokeniser t, CharacterReader r) {\nString value = r.consumeToAny('\"', '&', nullChar);\nif (value.length() > 0)\nt.tagPending.appendAttributeValue(value);\nchar c = r.consume();\nswitch (c) {\nt.transition(AfterAttributeValue_quoted);\nbreak;\n}",
            "method_id": 17
        },
        {
            "method_signature": "org.jsoup.nodes.Node:<init>(Ljava/lang/String;)V",
            "method_body": "protected Node(String baseUri) {\nthis(baseUri, new Attributes());\n}",
            "method_id": 18
        },
        {
            "method_signature": "org.jsoup.parser.Tokeniser:createTempBuffer()V",
            "method_body": "void createTempBuffer() {\ndataBuffer = new StringBuilder();\n}",
            "method_id": 19
        }
    ]
}