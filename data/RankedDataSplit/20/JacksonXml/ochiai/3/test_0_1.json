{
    "bug_id": 3,
    "test_id": 0,
    "test_name": "com.fasterxml.jackson.dataformat.xml.stream.XmlParserNextXxxTest.testXmlAttributesWithNextTextValue",
    "test_body": "public void testXmlAttributesWithNextTextValue() throws Exception\n{\nfinal String XML = \"<data max=\\\"7\\\" offset=\\\"9\\\"/>\";\n34: FromXmlParser xp = (FromXmlParser) _xmlFactory.createParser(new StringReader(XML));\n36: // First: verify handling without forcing array handling:\nassertToken(JsonToken.START_OBJECT, xp.nextToken()); // <data>\nassertToken(JsonToken.FIELD_NAME, xp.nextToken()); // <max>\nassertEquals(\"max\", xp.getCurrentName());\n41: assertEquals(\"7\", xp.nextTextValue());\n43: assertToken(JsonToken.FIELD_NAME, xp.nextToken()); // <offset>\nassertEquals(\"offset\", xp.getCurrentName());\n46: assertEquals(\"offset\", xp.getText());\n48: assertEquals(\"9\", xp.nextTextValue());\n50: assertEquals(\"9\", xp.getText());\n52: assertToken(JsonToken.END_OBJECT, xp.nextToken()); // </data>\nxp.close();\n}\n",
    "stack_trace": "junit.framework.ComparisonFailure: expected:<7> but was:<null>\nat junit.framework.Assert.assertEquals(Assert.java:100)\nat junit.framework.Assert.assertEquals(Assert.java:107)\nat junit.framework.TestCase.assertEquals(TestCase.java:269)\nat com.fasterxml.jackson.dataformat.xml.stream.XmlParserNextXxxTest.testXmlAttributesWithNextTextValue(XmlParserNextXxxTest.java:41)",
    "covered_methods": [
        {
            "method_signature": "com.fasterxml.jackson.dataformat.xml.deser.FromXmlParser:getCurrentName()Ljava/lang/String;",
            "method_body": "public String getCurrentName() throws IOException\nif (_currToken == JsonToken.START_OBJECT || _currToken == JsonToken.START_ARRAY) {\nname = _parsingContext.getCurrentName();\nif (name == null) {\nreturn name;\n}",
            "method_id": 20
        },
        {
            "method_signature": "com.fasterxml.jackson.dataformat.xml.deser.XmlReadContext:getCurrentName()Ljava/lang/String;",
            "method_body": "public final String getCurrentName() { return _currentName; }\npublic final String getCurrentName() { return _currentName; }",
            "method_id": 21
        },
        {
            "method_signature": "com.fasterxml.jackson.dataformat.xml.deser.XmlReadContext:setCurrentName(Ljava/lang/String;)V",
            "method_body": "public void setCurrentName(String name) {\n_currentName = name;\n}",
            "method_id": 22
        },
        {
            "method_signature": "com.fasterxml.jackson.dataformat.xml.deser.XmlTokenStream:getLocalName()Ljava/lang/String;",
            "method_body": "public String getLocalName() { return _localName; }\npublic String getLocalName() { return _localName; }",
            "method_id": 23
        },
        {
            "method_signature": "com.fasterxml.jackson.dataformat.xml.deser.XmlTokenStream:next()I",
            "method_body": "public int next() throws IOException\nif (_repeatElement != 0) {\nreturn _next();\n}",
            "method_id": 24
        },
        {
            "method_signature": "com.fasterxml.jackson.dataformat.xml.deser.XmlTokenStream:_next()I",
            "method_body": "private final int _next() throws XMLStreamException\nswitch (_currentState) {\nif (_nextAttributeIndex < _attributeCount) {\n_localName = _xmlReader.getAttributeLocalName(_nextAttributeIndex);\n_namespaceURI = _xmlReader.getAttributeNamespace(_nextAttributeIndex);\n_textValue = _xmlReader.getAttributeValue(_nextAttributeIndex);\nreturn (_currentState = XML_ATTRIBUTE_NAME);\nreturn (_currentState = XML_ATTRIBUTE_VALUE);\n}",
            "method_id": 25
        },
        {
            "method_signature": "com.fasterxml.jackson.dataformat.xml.deser.XmlTokenStream:getText()Ljava/lang/String;",
            "method_body": "public String getText() { return _textValue; }\npublic String getText() { return _textValue; }",
            "method_id": 26
        },
        {
            "method_signature": "com.fasterxml.jackson.dataformat.xml.deser.FromXmlParser:nextTextValue()Ljava/lang/String;",
            "method_body": "public String nextTextValue() throws IOException\n_binaryValue = null;\nif (_nextToken != null) {\nint token = _xmlTokens.next();\nwhile (token == XmlTokenStream.XML_START_ELEMENT) {\nswitch (token) {\n_currText = _xmlTokens.getText();\n_currToken = JsonToken.VALUE_STRING;\nbreak;\nreturn null;\n}",
            "method_id": 27
        }
    ]
}