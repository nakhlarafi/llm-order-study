{
    "bug_id": 27,
    "test_id": 0,
    "test_name": "org.mockitousage.bugs.ListenersLostOnResetMockTest.listener",
    "test_body": "public void listener() throws Exception {\nInvocationListener invocationListener = mock(InvocationListener.class);\n18: List mockedList = mock(List.class, withSettings().invocationListeners(invocationListener));\nreset(mockedList);\n21: mockedList.clear();\n23: verify(invocationListener).reportInvocation(any(MethodInvocationReport.class));\n}\n",
    "stack_trace": "junit.framework.AssertionFailedError:\nWanted but not invoked:\ninvocationListener.reportInvocation(<any>);\n-> at org.mockitousage.bugs.ListenersLostOnResetMockTest.listener(ListenersLostOnResetMockTest.java:23)",
    "covered_methods": [
        {
            "method_signature": "org.mockito.internal.matchers.Any:describeTo(Lorg/hamcrest/Description;)V",
            "method_body": "public void describeTo(Description description) {\ndescription.appendText(\"<any>\");\n}",
            "method_id": 0
        },
        {
            "method_signature": "org.mockito.Matchers:any(Ljava/lang/Class;)Ljava/lang/Object;",
            "method_body": "public static <T> T any(Class<T> clazz) {\nreturn (T) reportMatcher(Any.ANY).returnFor(clazz);\n}",
            "method_id": 1
        },
        {
            "method_signature": "org.mockito.internal.creation.MockSettingsImpl:invocationListeners([Lorg/mockito/listeners/InvocationListener;)Lorg/mockito/MockSettings;",
            "method_body": "public MockSettings invocationListeners(InvocationListener... listeners) {\nif (listeners == null || listeners.length == 0) {\nfor (InvocationListener listener : listeners) {\nif (listener == null) {\nthis.invocationListeners.add(listener);\nreturn this;\n}",
            "method_id": 2
        },
        {
            "method_signature": "org.mockito.internal.util.MockUtil:resetMock(Ljava/lang/Object;)V",
            "method_body": "public <T> void resetMock(T mock) {\nMockHandlerInterface<T> oldMockHandler = getMockHandler(mock);\nMockHandler<T> newMockHandler = new MockHandler<T>(oldMockHandler);\nMethodInterceptorFilter newFilter = new MethodInterceptorFilter(newMockHandler, (MockSettingsImpl) org.mockito.Mockito.withSettings().defaultAnswer(org.mockito.Mockito.RETURNS_DEFAULTS));\n((Factory) mock).setCallback(0, newFilter);\n}",
            "method_id": 3
        },
        {
            "method_signature": "org.mockito.exceptions.Reporter:wantedButNotInvoked(Lorg/mockito/exceptions/PrintableInvocation;Ljava/util/List;)V",
            "method_body": "public void wantedButNotInvoked(PrintableInvocation wanted, List<? extends PrintableInvocation> invocations) {\nif (invocations.isEmpty()) {\nallInvocations = \"Actually, there were zero interactions with this mock.\\n\";\nString message = createWantedButNotInvokedMessage(wanted);\nthrow new WantedButNotInvoked(message + allInvocations);\n}",
            "method_id": 4
        },
        {
            "method_signature": "org.mockito.internal.MockHandler:<init>(Lorg/mockito/internal/MockHandlerInterface;)V",
            "method_body": "public MockHandler(MockHandlerInterface<T> oldMockHandler) {\nthis(oldMockHandler.getMockSettings());\n}",
            "method_id": 5
        },
        {
            "method_signature": "org.mockito.internal.MockitoCore:reset([Ljava/lang/Object;)V",
            "method_body": "public <T> void reset(T ... mocks) {\nmockingProgress.validateState();\nmockingProgress.reset();\nmockingProgress.resetOngoingStubbing();\nfor (T m : mocks) {\nmockUtil.resetMock(m);\n}",
            "method_id": 6
        },
        {
            "method_signature": "org.mockito.Mockito:reset([Ljava/lang/Object;)V",
            "method_body": "public static <T> void reset(T ... mocks) {\nMOCKITO_CORE.reset(mocks);\n}",
            "method_id": 7
        },
        {
            "method_signature": "org.mockito.exceptions.Reporter:createWantedButNotInvokedMessage(Lorg/mockito/exceptions/PrintableInvocation;)Ljava/lang/String;",
            "method_body": "private String createWantedButNotInvokedMessage(PrintableInvocation wanted) {\nreturn join(\n}",
            "method_id": 8
        },
        {
            "method_signature": "org.mockito.exceptions.verification.WantedButNotInvoked:<init>(Ljava/lang/String;)V",
            "method_body": "public WantedButNotInvoked(String message) {\nsuper(message);\n}",
            "method_id": 9
        },
        {
            "method_signature": "org.mockito.internal.matchers.LocalizedMatcher:describeTo(Lorg/hamcrest/Description;)V",
            "method_body": "public void describeTo(Description description) {\nactualMatcher.describeTo(description);\n}",
            "method_id": 10
        },
        {
            "method_signature": "org.mockito.internal.util.Primitives:primitiveValueOrNullFor(Ljava/lang/Class;)Ljava/lang/Object;",
            "method_body": "public static <T> T primitiveValueOrNullFor(Class<T> primitiveType) {\nreturn (T) primitiveValues.get(primitiveType);\n}",
            "method_id": 11
        },
        {
            "method_signature": "org.mockito.internal.invocation.InvocationsFinder:findSimilarInvocation(Ljava/util/List;Lorg/mockito/internal/invocation/InvocationMatcher;)Lorg/mockito/internal/invocation/Invocation;",
            "method_body": "public Invocation findSimilarInvocation(List<Invocation> invocations, InvocationMatcher wanted) {\nInvocation firstSimilar = null;\nfor (Invocation invocation : invocations) {\nreturn firstSimilar;\n}",
            "method_id": 12
        },
        {
            "method_signature": "org.mockito.internal.progress.HandyReturnValues:returnFor(Ljava/lang/Class;)Ljava/lang/Object;",
            "method_body": "public <T> T returnFor(Class<T> clazz) {\nif (isPrimitiveWrapper(clazz)) {\nreturn primitiveValueOrNullFor(clazz);\n}",
            "method_id": 13
        },
        {
            "method_signature": "org.mockito.internal.progress.ThreadSafeMockingProgress:resetOngoingStubbing()V",
            "method_body": "public void resetOngoingStubbing() {\nthreadSafely().resetOngoingStubbing();\n}",
            "method_id": 14
        },
        {
            "method_signature": "org.mockito.internal.progress.ThreadSafeMockingProgress:reset()V",
            "method_body": "public void reset() {\nthreadSafely().reset();\n}",
            "method_id": 15
        },
        {
            "method_signature": "org.mockito.internal.progress.MockingProgressImpl:reset()V",
            "method_body": "public void reset() {\nstubbingInProgress = null;\nverificationMode = null;\ngetArgumentMatcherStorage().reset();\n}",
            "method_id": 16
        },
        {
            "method_signature": "org.mockito.internal.progress.ArgumentMatcherStorageImpl:reset()V",
            "method_body": "public void reset() {\nmatcherStack.clear();\n}",
            "method_id": 17
        },
        {
            "method_signature": "org.mockito.internal.util.MockUtil:isMock(Ljava/lang/Object;)Z",
            "method_body": "public boolean isMock(Object mock) {\nreturn mock != null && isMockitoMock(mock);\n}",
            "method_id": 18
        },
        {
            "method_signature": "org.mockito.internal.util.MockUtil:isMockitoMock(Ljava/lang/Object;)Z",
            "method_body": "private <T> boolean isMockitoMock(T mock) {\nreturn getInterceptor(mock) != null;\n}",
            "method_id": 19
        }
    ]
}