{
    "bug_id": 12,
    "test_id": 0,
    "test_name": "com.fasterxml.jackson.core.json.LocationInObjectTest.testOffsetWithObjectFieldsUsingReader",
    "test_body": "54: public void testOffsetWithObjectFieldsUsingReader() throws Exception\n55: {\n56: final JsonFactory f = new JsonFactory();\n57: char[] c = \"{\\\"f1\\\":\\\"v1\\\",\\\"f2\\\":{\\\"f3\\\":\\\"v3\\\"},\\\"f4\\\":[true,false],\\\"f5\\\":5}\".toCharArray();\n58: //            1      6      11    16 17    22      28    33 34 39      46    51\n59: JsonParser p = f.createParser(c);\n60: 61: assertEquals(JsonToken.START_OBJECT, p.nextToken());\n62: 63: assertEquals(JsonToken.FIELD_NAME, p.nextToken());\n64: assertEquals(1L, p.getTokenLocation().getCharOffset());\n65: assertEquals(JsonToken.VALUE_STRING, p.nextToken());\n66: assertEquals(6L, p.getTokenLocation().getCharOffset());\n67: 68: assertEquals(\"f2\", p.nextFieldName());\n69: assertEquals(11L, p.getTokenLocation().getCharOffset());\n70: assertEquals(JsonToken.START_OBJECT, p.nextValue());\n71: assertEquals(16L, p.getTokenLocation().getCharOffset());\n72: 73: assertEquals(\"f3\", p.nextFieldName());\n74: assertEquals(17L, p.getTokenLocation().getCharOffset());\n75: assertEquals(JsonToken.VALUE_STRING, p.nextValue());\n76: assertEquals(22L, p.getTokenLocation().getCharOffset());\n77: assertEquals(JsonToken.END_OBJECT, p.nextToken());\n78: 79: assertEquals(\"f4\", p.nextFieldName());\n80: assertEquals(28L, p.getTokenLocation().getCharOffset());\n81: assertEquals(JsonToken.START_ARRAY, p.nextValue());\n82: assertEquals(33L, p.getTokenLocation().getCharOffset());\n83: 84: assertEquals(JsonToken.VALUE_TRUE, p.nextValue());\n85: assertEquals(34L, p.getTokenLocation().getCharOffset());\n86: 87: assertEquals(JsonToken.VALUE_FALSE, p.nextValue());\n88: assertEquals(39L, p.getTokenLocation().getCharOffset());\n89: assertEquals(JsonToken.END_ARRAY, p.nextToken());\n90: 91: assertEquals(\"f5\", p.nextFieldName());\n92: assertEquals(46L, p.getTokenLocation().getCharOffset());\n93: assertEquals(JsonToken.VALUE_NUMBER_INT, p.nextToken());\n94: assertEquals(51L, p.getTokenLocation().getCharOffset());\n95: assertEquals(JsonToken.END_OBJECT, p.nextToken());\n96: 97: p.close();\n98: }\n",
    "stack_trace": "junit.framework.AssertionFailedError: expected:<6> but was:<1>\nat junit.framework.Assert.fail(Assert.java:57)\nat junit.framework.Assert.failNotEquals(Assert.java:329)\nat junit.framework.Assert.assertEquals(Assert.java:78)\nat junit.framework.Assert.assertEquals(Assert.java:159)\nat junit.framework.Assert.assertEquals(Assert.java:166)\nat junit.framework.TestCase.assertEquals(TestCase.java:324)\nat com.fasterxml.jackson.core.json.LocationInObjectTest.testOffsetWithObjectFieldsUsingReader(LocationInObjectTest.java:66)",
    "covered_methods": [
        {
            "method_signature": "com.fasterxml.jackson.core.sym.CharsToNameCanonicalizer:copyArrays()V",
            "method_body": "private void copyArrays() {\nfinal String[] oldSyms = _symbols;\n_symbols = Arrays.copyOf(oldSyms, oldSyms.length);\nfinal Bucket[] oldBuckets = _buckets;\n_buckets = Arrays.copyOf(oldBuckets, oldBuckets.length);\n}",
            "method_id": 80
        },
        {
            "method_signature": "com.fasterxml.jackson.core.json.JsonReadContext:setCurrentName(Ljava/lang/String;)V",
            "method_body": "public void setCurrentName(String name) throws JsonProcessingException {\n_currentName = name;\nif (_dups != null) { _checkDup(_dups, name); }\n}",
            "method_id": 81
        },
        {
            "method_signature": "com.fasterxml.jackson.core.util.InternCache:<init>()V",
            "method_body": "private final static int MAX_ENTRIES = 180;\npublic final static InternCache instance = new InternCache();\nprivate final Object lock = new Object();\nprivate InternCache() { super(MAX_ENTRIES, 0.8f, 4); }",
            "method_id": 82
        },
        {
            "method_signature": "com.fasterxml.jackson.core.util.InternCache:<clinit>()V",
            "method_body": "private final static int MAX_ENTRIES = 180;\npublic final static InternCache instance = new InternCache();\nprivate final Object lock = new Object();\nprivate InternCache() { super(MAX_ENTRIES, 0.8f, 4); }",
            "method_id": 83
        },
        {
            "method_signature": "com.fasterxml.jackson.core.util.InternCache:intern(Ljava/lang/String;)Ljava/lang/String;",
            "method_body": "public String intern(String input) {\nString result = get(input);\nif (result != null) { return result; }\nif (size() >= MAX_ENTRIES) {\nresult = input.intern();\nput(result, result);\nreturn result;\n}",
            "method_id": 84
        },
        {
            "method_signature": "com.fasterxml.jackson.core.json.JsonReadContext:createChildObjectContext(II)Lcom/fasterxml/jackson/core/json/JsonReadContext;",
            "method_body": "public JsonReadContext createChildObjectContext(int lineNr, int colNr) {\nJsonReadContext ctxt = _child;\nif (ctxt == null) {\n_child = ctxt = new JsonReadContext(this,\nreturn ctxt;\n}",
            "method_id": 85
        }
    ]
}